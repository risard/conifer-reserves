<?xml version="1.0" encoding="UTF-8"?>
<tables>

	<table id="silly.fact" partition="true">
		<name>Silly Fact table</name>
		<description>Silly Fact table</description>
		<tablename>stats.silly_fact</tablename>

		<partition>
			<field>said_when</field>
			<!-- Valid options:  years, months, weeks, days, hours, minutes, seconds  -->
			<chunk>months</chunk>
			<start>2005-09-01</start>
			<end>2005-12-31</end>
		</partition>

		<fields>
			<field
			  name="id"
			  primary="true"
			  create-type="serial"
			  datatype="int">
				<label>Silly entry id</label>
				<description>Silly entry id</description>
			</field>
			<field
			  name="silly_word_dim"
			  datatype="int"
			  indexed="true">
				<label>Silly word dim</label>
				<description>Silly word entry dimension link</description>
			</field>
			<field
			  name="silly_sayer_dim"
			  datatype="int"
			  indexed="true">
				<label>Silly sayer dim</label>
				<description>Silly sayer entry dimension link</description>
			</field>
			<field
			  name="said_when"
			  datatype="timestamptz"
			  core="true"
			  indexed="true"
			  default="now()">
				<label>Silly word timestamp</label>
				<description>Silly word entry timestamp</description>
			</field>
		</fields>
		<links>
			<link
			  field="silly_word_dim"
			  table="silly.word_dim"
			  key="id"
			  type="has_a"/>
			<link
			  field="silly_sayer_dim"
			  table="silly.sayer_dim"
			  key="id"
			  type="has_a"/>
		</links>
	</table>

	<table id="silly.word_dim">
		<name>Silly word list</name>
		<description>Silly word list</description>
		<tablename>stats.words</tablename>
		<fields>
			<field
			  name="id"
			  primary="true"
			  create-type="serial"
			  datatype="int"/>
			<field
			  name="word"
			  datatype="text"
			  indexed="true"
			  index-type="BTREE"/>
		</fields>
	</table>

	<table id="silly.sayer_dim">
		<name>Silly word sayer list</name>
		<description>Silly word sayer list</description>
		<tablename>stats.silly_sayers</tablename>
		<fields>
			<field
			  name="id"
			  primary="true"
			  create-type="serial"
			  datatype="int"/>
			<field
			  name="sayer"
			  widget-family="string-choose"
			  datatype="text"
			  indexed="true"
			  index-type="BTREE"/>
		</fields>
	</table>

</tables>

