<?xml version='1.0'?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xi="http://www.w3.org/2001/XInclude">

	<head>
		<title>Evergreen: Libray Closed Dates Editor</title>
		<script language='javascript' src='/opac/common/js/utils.js'> </script>
		<script language='javascript' src='/opac/common/js//config.js'> </script>
		<script language='javascript' src='/opac/common/js/CGI.js'> </script>
		<script language='javascript' src='/opac/common/js/Cookie.js'> </script>
	
		<script language='javascript' src='/opac/common/js/slimtree.js'> </script>
		<script language='javascript' src='/opac/common/js/JSON.js'> </script>
		<script language='javascript' src='/opac/common/js/fmall.js'> </script>
		<script language='javascript' src='/opac/common/js/fmgen.js'> </script>
		<script language='javascript' src='/opac/common/js/Cookies.js'> </script>
		<script language='javascript' src='/opac/common/js/opac_utils.js'> </script>
		<script language='javascript' src='/opac/common/js/OrgTree.js'> </script>
		<script language='javascript' src='/opac/common/js/org_utils.js'> </script>
		<script language='javascript' src='/opac/common/js/init.js'> </script>
		<script language='javascript' src='/opac/common/js/RemoteRequest.js'> </script>
		<script language='javascript' src='/opac/common/js/Date.W3CDTF.js'> </script>
		<script language='javascript' src='adminlib.js'> </script>
		<script language='javascript' src='closed_dates.js'> </script>

		<link rel="stylesheet" type="text/css" media="all" 
			href="/opac/common/js/jscalendar/calendar-brown.css" title="win2k-cold-1" />
		<script type="text/javascript" src="/opac/common/js/jscalendar/calendar.js"></script>
		<script type="text/javascript" src="/opac/common/js/jscalendar/lang/calendar-en.js"></script>
		<script type="text/javascript" src="/opac/common/js/jscalendar/calendar-setup.js"></script>




		<link type='text/css' rel='stylesheet' href='admin.css'/>

		<style type='text/css'>
			span { padding: 6px; }
			b { padding: 6px; }
		</style>
	</head>

	<body onload='try{cdEditorInit();}catch(e){alert(js2JSON(e));}'>

		<div class='welcome_box'>
			<span>Welcome </span><b><span id='cd_user'/></b>
		</div>

		<center>
			<div class='title'> Closed Dates Editor </div>

			<br/>
			Edit Closed Dates for: <select id='cd_orgs' class='select_big'/>
			<br/><br/>

			<table class='data_grid data_grid_center' style='width: 80%; padding: 8px;'>
				<thead>
					<tr>
						<td>Closed Duration</td>
						<td>Reason for Closing</td>
						<td>Delete</td>
					</tr>
				</thead>
				<tbody id='cd_tbody'>

					<tr id='cd_row'>
						<td align='left'>
							From
							<b name='start_date'/> at <b name='start_time'/>
							<span> through </span>
							<b name='end_date'/> at <b name='end_time'/>
						</td>
						<td><div name='note'/></td>
						<td><button name='delete'>delete</button></td>
					</tr>

					<tr id='cd_allday_row'>
						<td align='left'>
							All Day <b name='start_date'/>
						</td>
						<td><div name='note'/></td>
						<td><button name='delete'>delete</button></td>
					</tr>


					<tr id='cd_allmultiday_row'>
						<td align='left'>
							Every Day From <b name='start_date'/> through <b name='end_date'/>
						</td>
						<td><div name='note'/></td>
						<td><button name='delete'>delete</button></td>
					</tr>

				</tbody>
			</table>

			<br/>
			<div style='width: 80%'>
				Note: All dates must have the form <b>YYYY-MM-DD</b>.  Times must have the form <b>HH:MM</b>
			</div>

			<br/>
		
			<table class='data_grid data_grid_center' style='width: 80%; padding: 8px;'>
				<tr>
					<td width='100%' align='center' style='border: 1px solid #F0E0F0;'>
						<button id='cd_new_allday' 
							onclick='cdShowEditRow("cd_edit_allday_row");'>Add Single Day Closing</button>
						<button id='cd_new_multiday' 
							onclick='cdShowEditRow("cd_edit_allmultiday_row");'>Add Mult-Date Closing</button>
						<button id='cd_new' 
							onclick='cdShowEditRow("cd_edit_row");'>Add Detailed Closing</button>
					</td>
				</tr>
			</table>
		
			<table class='data_grid data_grid_center' style='width: 80%; padding: 8px;'>
				<tbody id='cd_edit_tbody'>
		
					<tr id='cd_edit_row' class='hide_me'>
						<table class='data_grid data_grid_center' style='width: 100%;'>
							<thead>
								<tr>
									<td>Start Date</td>
									<td>Start Time</td>
									<td>End Date</td>
									<td>End Time</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<input id='cd_edit_start_date' type='text' size='10' maxlength='10'/>
										<img src="/opac/common/js/jscalendar/img.gif"  
											id='cd_edit_start_date_img' class='cal_img'/>
									</td>

									<td>
										<table width='100%'><tbody><tr><td>
											<input id='cd_edit_start_time' type='text' size='5' maxlength='5'/>
										</td>
										<td>
											<div style='font-size: 80%;'>All Day</div>
											<input type='checkbox' id='cd_edit_start_time_allday'
												onclick='
													var input = $("cd_edit_start_time");
													input.disabled = !input.disabled;'/>
										</td></tr></tbody></table>
									</td>

									<td>
										<input id='cd_edit_end_date' type='text' size='10' maxlength='10'/>
										<img src="/opac/common/js/jscalendar/img.gif"  
											id='cd_edit_end_date_img' class='cal_img'/>
									</td>

									<td>
										<table width='100%'><tbody><tr><td>
											<input id='cd_edit_end_time' type='text' size='5' maxlength='5'/>
										</td>
										<td>
											<div style='font-size: 80%;'>All Day</div>
											<input type='checkbox' id='cd_edit_end_time_allday'
												onclick='
													var input = $("cd_edit_end_time");
													input.disabled = !input.disabled;'/>
										</td></tr></tbody></table>
									</td>

								</tr>
							</tbody>
						</table>
					</tr>
		
					<tr id='cd_edit_allday_row' class='hide_me'>
						<td>	
							<span> All Day </span>
							<input id='cd_edit_allday_start_date' type='text' size='10' maxlength='10'/>
							<img src="/opac/common/js/jscalendar/img.gif"  
								id='cd_edit_allday_start_date_img' class='cal_img'/>
						</td>
					</tr>
		
					<tr id='cd_edit_allmultiday_row' class='hide_me'>
						<td>	

							<span> All Day From </span>
							<input id='cd_edit_allmultiday_start_date' type='text' size='10' maxlength='10'/>
							<img src="/opac/common/js/jscalendar/img.gif"  
								id='cd_edit_allmultiday_start_date_img' class='cal_img'/>

							<span> Until</span>

							<input id='cd_edit_allmultiday_end_date' type='text' size='10' maxlength='10'/>
							<img src="/opac/common/js/jscalendar/img.gif"  
								id='cd_edit_allmultiday_end_date_img' class='cal_img'/>
						</td>
					</tr>

					<tr id='cd_edit_note_row' class='hide_me' valign='middle'>
						<td>
							<div>Reason for closing: </div>
							<textarea style='border: 1px solid blue; background: #E0F0E0; margin: 5px;' 
								id='cd_edit_note' wrap='soft' cols='40' rows='3'/>
						</td>
					</tr>

					<tr id='cd_edit_submit' class='hide_me'>
						<td>
							<button onclick='cdNew();'>Save</button>
							<button onclick='cdCancelEdit();'>Cancel</button>
						</td>
					</tr>

		
				</tbody>
			</table>

			<span class='hide_me' id='cd_all_day'>All Day</span>
			<span class='hide_me' id='cd_confirm_delete'>Are you sure you wish to delete the selected close date?</span>
			<span class='hide_me' id='cd_invalid_date'>Invalid date format</span>
			<span class='hide_me' id='cd_invalid_time'>Invalid time format</span>
		
		</center>
	</body>
</html>


